Version 0.48.2
~~~~~~~~~~~~~~
- bugifx: Исправлен баг в Hydra по рецепту Игоря Ванина и GPMail'а
- bugifx: Hydra поправлена до стандарта (знаменитый баг в Ленцовских
  исходниках)

Version 0.48.1
~~~~~~~~~~~~~~
- Появились опции у `-c', по-умолчанию теперь обращаем внимание на время
  работы ноды и параметр cancall. Выходим с exit code 33, если нет портов,
  на которых можно звонить сейчас, пишем в stderr о недопустимости звонка
  в это время. Надо задать опцию `N' (`-cN') если такое поведение устраивает,
  или добавть `A' и/или `I' для подавления проверки cancall и времени работы
- bugfix: Пишем строку `Calling...' в лог при начале звонка по `-c'.
- bugfix: Параметр `-c' теперь работает.

Version 0.48.0
~~~~~~~~~~~~~~
- Появилось понятие STABLE и CURRENT. 0.48.0 -- Первый STABLE
- Добавлен параметр `-c' (force call) из мертвой версии 0.45.4
- bugfix: две точки в имени файла

Version 0.46.2
~~~~~~~~~~~~~~
- Теперь конфиг копируется при инсталляции, а не переносится
- Теперь конфиг cтавится как qico.conf.sample
- Максимальная строка log-файла увеличина в 16 раз.
  Теперь не будем падать при E_DEBUG и длинных EMSI_DAT (надеюсь,
  этого хватит!)
- Теперь по-умолчанию собираемся без отладочной информации
- bugfix: Поправлен завис в ZModem'е, возникающий при посылке, если 
  потерян SIGHUP
- bugfix: Теперь собирается с E_DEBUG (Наконец!)
- bugfix: Конвертация имени файла в ыормат 8.3 (DOS) теперь не трогает
  большее количество спец. символов.

Version 0.46.1
~~~~~~~~~~~~~~
- Теперь имя файла при конфликте имен в inbound'е изменяется аккуратно -
  допускаются только алфавитно-цифровые символы, может изменятся не только
  последняя буква имени, в крайнем случае файл оставляется в inbount/tmp
- Вывод компилятора нодлиста теперь идет в stdout вместо stderr
- При конвертации динных имен (LNC) tar.gz меняется на tgz, tar.bz2 на tb2
  (Max Levenkov)
- bugfix: Убраны возможные баги при коныерсии длинных имен (Max Levenkov)
- bugfix: Мелкая бага при приеме байтов (Thnx. to Denis Shaposhnikov)
- bugfix: при ответе по IP теперь пишем в лог IP-адрес удаленной стороны,
  а не свой 
- bugfix: Теперь собирается с E_DEBUG
- bugfix: Поправлен баг в stuff/ftn (из эхи ifmail)

Version 0.46.0
~~~~~~~~~~~~~~
- Теперь Lev Serebryakov не отмечается в Changes как (LS)
- FREE_BSD=1 перенесено в CONFIG
- Все положено на CVS
- Изменен порядок нумерации версий
- Лицензия поменена с жесткой GPL2 на свободную BSD-Like
- Новые адреса в README

Version 0.45pl3.1ls3
~~~~~~~~~~~~~~~~~~~~
- (LS) bugfix: Теперь не звоним на PVT-узлы и более строго проверяем телефон
       (не просто две цифры, а только символы, могущие появится в номере:
        0-9,'*','#','T','P','R','W',',','.','-')
       (Благодарности Denis Shaposhnikov)
- (LS) bugifx: emsi_init() поправлена _против_ стандарта, но так, что бы ее
       понимала CISCO.
- (LS) bugfix: Убрано -DFREE_BSD=1 в Makefile, оставшееся там по ошибке.

Version 0.45pl3.1ls2
~~~~~~~~~~~~~~~~~~~~
- (LS) free() заменена на параноидальную sfree()
- (LS) bugfix: убран завис в emsi_init(), теперь таймаут 60 секунд или
       10 попыток (что наступит раньше). В FSC тут тайматуов не предусмотрено.

Version 0.45pl3.1ls1
~~~~~~~~~~~~~~~~~~~~
- (LS) Новые буквы для mapin/mapout (смотри qico.conf).
- (LS) Новое условие в конфиге -- file <fullpath>.
- (LS) bugfix: вызов aftersession с правильными параметрами
- (LS) bugfix: подсчет размеров файлов в файлбоксах

Version 0.45pl3
~~~~~~~~~~~~~~~
- (ED) скипалка по удалению файла
- (ED) если кончилось место, то прерываем прием файла правильно
- еще генераторы статистики by Andrey Lomov
- bugfix: несколько мелких исправлений по мотивам fido7.ifmail
- bugfix: если нодлист имеет время, отличное от времени, записанного в
  индексе, то не коримся а пишем ошибку.
  Warning! формат индекса изменился, обязательно запустите qico -n!!!

Version 0.45pl2
~~~~~~~~~~~~~~~
- добавлен генератор статистики by Dmitriy Filichev: stuff/qico.stat
- (DS) в конфиге можно задавать progname, osname и version для EMSI
- (DS) патчи, касающиеся ] и } в emsi
- (ED) bugfix: pl1 и freebsd
- bugfix: починен itime

Version 0.45pl1
~~~~~~~~~~~~~~~~~
- bugfix: поправлена ересь by Eugene Don из-за которой не звонили вообще
          (2ED: давай ты будешь у меня спрашивать по сорцам если не 
	  понял, ok? ;)
- bugfix: наложены патчи от Denis Shaposhnikov

Version 0.45
~~~~~~~~~~~~
- info: моя нода сейчас по некоторым причинам в дауне, поэтому возможностей
        для тестирования стало немного меньше - в основном, это кидание
	файликами по ip на одной машине + забирание почты с босса и фреки, 
	так что глюков скорее всего станет больше... :(
- info: соотв. по тем же причинам изменились мой адрес (2:5030/736.25) и
	адрес для фреков - 2:5030/529 ;)
- bugfix: в качестве ремотного показывалось локальное время
- bugfix: не работал флаг inb и в хистори все сессии были исходящими
- bugfix: в историю и в total неправильно писался размер недопринятых файлов
          (они считались принятыми целиком)
- bugfix: если каталог %inbound%/tmp был не создан, то создать его не могли
          с ошибкой "уже существует"	  
- bugfix: на гидре починены: докачка; если файл отложили, а не пропустили 
          (эти понятия различны), то его не удаляем; ремоте говорим число
	  файлов; теперь, как и надо, говорим ремоте два имени файла - одно
	  досовское, другое длинное (соотв. убран глюк с приемом BadWazoo на 
	  ifcico);если какой-то файл не удавалось найти при отправке, то 
	  гидра повисала; теперь гидра вроде-бы стала более двухсторонней
	  (по крайней мере по ip это так, не знаю, что будет в реальности)
- bugfix: zmodem: если ремота пропускала последний файл при исходящей, то
          вторая фаза wazoo-сессии обламывалась; размер принятого файла
	  в логе был меньше действительного; теперь тоже различаем понятия
	  "пропустить" и "отложить"
- bugfix: логи нельзя было разделить для входящих и исходящих линий
- bugfix: не работало условие connect (зато работало conect ;)
- bugfix: траффик из файлбоксов не добавлялся в emsi
- теперь если мы пропускаем какой-то файл, то об этом тоже пишется в лог
- nl_langinfo() заменено на портируемую strftime()
- новый параметр autoskip - автоматически пропускать при приеме файлы, 
  подходящие под маску (можно указать несколько)
- полноценная поддержка флага FNC (приведение имен к виду 8.3 для досовских 
  мылеров), можно включить принудительно (mapout/mapin f)
- внимание! другой формат вызова в режиме ответа! теперь для mgetty надо писать
  'qico -a @'!!!
- новый параметр aftersession: имя программы, запускаемой после сессии.
- новый параметр emsilog - имя файла, в который будут скидываться полученные 
  emsi_dat пакеты
- новый параметр pidfile - теперь имя pid-файла задается не при компиляции, а
  в конфиге
- из protorder убрана буква R, т.к. RH1 - это все-таки не протокол, а опция.
  RH1 теперь используется во всех вариациях гидры, если удаленная сторона тоже
  поддерживает это расширение.
- новые протоколы: hydra-8k ('8' в protorder), hydra-16k ('6') - это расширения
  гидры, позволяющие использовать блоки до 8 и 16Kb соответственно.
  эти расширения также поддерживаются в мейлерах: Xenolink/Amiga, Zeus/Amiga,
  GMS/Amiga, Ravel/Macintosh (thanx to Cyril Moorzin, 2:5030/700 for info).
  рекомендуется включать только на скоростях от 14400 и 28800 bps соотв.
- для совместимости заменено:
     faddr_t -> ftnaddr_t
     F_xxx -> FOP_xxx
- теперь qcc показывает размер файлов и почты, выделяет узлы, на которые можно
  звонить. 
- файлы из файлбоксов теперь приравнены к файлам в .hlo, поэтому соответственно
  отображаются в qcc.
- в zmh, если нет нетмейла, то на систему не звоним.
- если ремота не показала в EMSI {TRAF}, но сказала {MOH#} то выводим в лог это
  значение. соответственно заработало предсказание траффика с sf-mail.
- bugfix: нерабочесть конструкций типа if port ... cancall ... 
- bugfix: баг с обработкой nodial (если находился порт с выставленным флагом,
  то остальные порты даже не просматривались)
- изменено значение флага wait - теперь ждем не только по hrq, если нет ничего
  кроме фреков, но и по hxt, если нет ничего кроме аркмейла и по hat в любом
  случае ;) название параметра waithrq я менять не стал.
  [!] Внимание! формат .qst файлов изменился, так что перед запуском надо
  вытереть все старые файлы из аутбаунда
- bugfix: размер файлов и почты на ASO  
- добавлена буфферизация чтения, а на zmodem еще и записи.
- bugfix: исправлен баг с сислогом - все валилось в auth (thanx to Andrey Panov)
- bugfix: обработка трансляции телефона, всегда обрабатывалась только первая. 
- теперь qcc можно собирать и на FreeBSD, добавив ключик -DFREE_BSD.          
  (from PK: имеется ввиду собираемость с ncurses-3, с 4.2 было и будет все ok
  и этот ключ не нужен) 
- bugfix(?): на FreeBSD не удалялся сокет-файл, после выхода qcc.             
- новый символ в строке инициализации ' задержка 1/5с                         


Version 0.44a
~~~~~~~~~~~~~
- bugfix: фуух, теперь EMSI вроде добил окончательно
- чуток причесаны протоколы

Version 0.44
~~~~~~~~~~~~
- bugfix: ошибки вызова фрекпроцеесора: если pid был меньше 1000h, генерились
          неправильные имена файлов, не вставлялся адрес системы,
          в качестве фрекрепорта формировались не пакеты, а черт знает что %(
- bugfix: неправильно показывал время работы по qico -f XXX
- bugfix: если в полях EMSI_DAT содержались скобки ([]{}), то данные из них
          неправильно показывались.
- bugfix: дата в логе выводилась как '1 Jan 100'
- bugfix: по clo&cut не звонили
- переменные DEF_ZONE и DEF_NET убраны из CONFIG, теперь эти значения берутся
  из первой переменной address.
- поддержка RINGING (эту фичу я не тестировал, т.к. в моем модеме этого нет!)
- longname fileboxes (переменная longboxpath), имя каталога имеет вид 
  '/path/zone.net.node.point' (.0 для узлов обязателен)
- переменная pinbound убрана за ненадобностью (надо использовать if)
- переделан алгоритм работы с принимаемыми файлами, теперь и для них можно
  задать преобразование имен - параметр mapin
  
Version 0.43
~~~~~~~~~~~~
- bugfix: вернул взад блокирование порта (спрашивается, нафига убирал???) 
- bugfix: amiga-style outbound теперь работает
- bugfix: исправлена ошибка в проверке временных промежутков с Txy (причина 
  выставления HRQ, HXT и т.п. невовремя) 
- bugfix: исправлена ошибка в обработке фреков на парольных сессиях  
- bugfix: время удаленной стороне теперь предъявляем локальное, а не UTC
- bugfix: регионы и независимые узлы теперь тоже попадают в индекс ;)
- filebox'ы (см. README и пример в конфиге, опция filebox)
- новые опции в конфиге: mapout и mappath. упарвляет правилами перекодирования 
  имен исходящих файлов и путей. подробное описание см. в конфиге и README.
  (в частности, сделаны замена обратных слэшей на прямые, замена всех
  точек, кроме последней, на '_', приведение к опр. регистру, переименование
  бандлов в формат 8.3, замена начала пути) 
- новые опция minspeed задает минимальную скорость 
  
Version 0.42
~~~~~~~~~~~~
- теперь, если ремота предъявила несколько одинаковых адресов, то дубли
  игнорируются (позвонил мне один раз такой кадр ;)
- новое условие 'cid' - проверка переменной среды $CALLER_ID, в которую mgetty
  пишет определенный номер (если модем это поддерживает). также содержимое
  этой переменной пишется в лог (для поддержки курьеровских IDSDL на mgetty 
  надо наложить патч Алексея Гречанинова - http://scorpus.cjb.net).
- добавлена переменная modemreset - последовательность команд для сброса
  модема. если укзана, то выполняется перед набором номера.
- теперь строчек modemhangup может быть несколько, или вообще не быть.
  в первом случае команды выполняютя последовательно, после каждой команды
  ожидается ответ.
- сделана поддержка syslog (для этого вместо имени файла лога надо писать
  $<facility>, например log $local3)
- теперь переменная log тоже может быть в условиях, а суффикс в виде имени 
  порта НЕ добавляется. лог демона задается отдельно в переменной masterlog
- badpmsg убрано, т.к. избыточно и негибко (надо использовать if bad ... )
- во временные промежутки добавлено новое ключевое слово "never", которое
  является полной противоположностью "CM" (на всякий случай)
- добавлена новая опция конфига "zmh". смысл, я думаю, понятен ;)  
- изменилась логика отзвонки на узлы, теперь:
  1. если есть subst, то звоним четко по нему.
  2. если узел - нода с флагом Hold или Down, то не звоним
  3. если есть телефон и Txy или CM - звоним в указанное время
  4. если узел - нода, есть телефон, но нет ни Txy, ни CM - звоним в ZMH
- cancall теперь проверяется после выбора порта, адреса и т.д., короче
  реагирует на условия.
- bugfix: условия-флаги теперь работают (епс, надо ж было такой бред написать... ;)
- bugfix: если получили NRQ/HRQ, .req просто убивался 
- новый способ задания нодлистов в конфиге - для автоматического выбора 
  наибольшего цифрового расширения надо писать 'nodelist filename.999'. сделано
  для того, чтобы можно было использовать листы с фиксированными расширениями.
- на свои aka теперь на всякий случай не звоним ;)

Version 0.41
~~~~~~~~~~~~
- чуток подправлен модемный код
- исправлена ошибка, из-за которой падали на фреках
- добавлены опции в конфиг: badpmsg, freqfrom, freqsubj 
- простейший внешний фрекпроцессор на bash, аналог встроенного в ifcico
- history

Version 0.40
~~~~~~~~~~~~
- динамическое конфигурирование
- подсчет траффика и время на линии за сессию 
  (еще глючит из-за старого бага)
- мелкие багфиксы и косметические изменения в emsi
- перечитка конфигов по SIGHUP
- ограничение времени на сессию
- поддержка ifextrp-совместимых фрекпроцессоров
 
